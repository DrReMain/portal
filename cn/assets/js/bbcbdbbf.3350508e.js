"use strict";(self.webpackChunkgo_zero=self.webpackChunkgo_zero||[]).push([[1469],{3905:function(e,t,n){n.d(t,{Zo:function(){return g},kt:function(){return d}});var o=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t){if(null==e)return{};var n,o,a=function(e,t){if(null==e)return{};var n,o,a={},r=Object.keys(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var p=o.createContext({}),i=function(e){var t=o.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},g=function(e){var t=i(e.components);return o.createElement(p.Provider,{value:t},e.children)},s={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},m=o.forwardRef((function(e,t){var n=e.components,a=e.mdxType,r=e.originalType,p=e.parentName,g=c(e,["components","mdxType","originalType","parentName"]),m=i(n),d=a,u=m["".concat(p,".").concat(d)]||m[d]||s[d]||r;return n?o.createElement(u,l(l({ref:t},g),{},{components:n})):o.createElement(u,l({ref:t},g))}));function d(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var r=n.length,l=new Array(r);l[0]=m;var c={};for(var p in t)hasOwnProperty.call(t,p)&&(c[p]=t[p]);c.originalType=e,c.mdxType="string"==typeof e?e:a,l[1]=c;for(var i=2;i<r;i++)l[i]=n[i];return o.createElement.apply(null,l)}return o.createElement.apply(null,n)}m.displayName="MDXCreateElement"},1228:function(e,t,n){n.r(t),n.d(t,{default:function(){return s},frontMatter:function(){return c},metadata:function(){return p},toc:function(){return i}});var o=n(7462),a=n(3366),r=(n(7294),n(3905)),l=["components"],c={},p={unversionedId:"blog/share/goctl-share-part-one",id:"blog/share/goctl-share-part-one",isDocsHomePage:!1,title:"goctl \u6548\u80fd\u5de5\u5177\u6df1\u5ea6\u89e3\u6790\uff08\u4e00\uff09",description:"1. goctl \u7684\u8bde\u751f",source:"@site/i18n/cn/docusaurus-plugin-content-docs/current/blog/share/goctl-share-part-one.md",sourceDirName:"blog/share",slug:"/blog/share/goctl-share-part-one",permalink:"/cn/docs/blog/share/goctl-share-part-one",editUrl:"https://github.com/zeromicro/portal/edit/main/i18n/cn/docusaurus-plugin-content-docs/current/blog/share/goctl-share-part-one.md",version:"current",lastUpdatedAt:1680612191,formattedLastUpdatedAt:"4/4/2023",frontMatter:{},sidebar:"blog",previous:{title:"10\u67083\u65e5\u7ebf\u4e0a\u4ea4\u6d41\u95ee\u9898\u6c47\u603b",permalink:"/cn/docs/blog/share/online-exchange"},next:{title:"goctl \u6548\u80fd\u5de5\u5177\u6df1\u5ea6\u89e3\u6790\uff08\u4e8c\uff09",permalink:"/cn/docs/blog/share/goctl-share-part-two"}},i=[{value:"1. goctl \u7684\u8bde\u751f",id:"1-goctl-\u7684\u8bde\u751f",children:[]},{value:"2. \u4e3a\u4ec0\u4e48\u9700\u8981 goctl\uff1f",id:"2-\u4e3a\u4ec0\u4e48\u9700\u8981-goctl",children:[]},{value:"3. \u600e\u4e48\u7406\u89e3\u5f00\u53d1\u89c4\u8303\uff1f",id:"3-\u600e\u4e48\u7406\u89e3\u5f00\u53d1\u89c4\u8303",children:[]},{value:"4. \u600e\u4e48\u7406\u89e3\u5de5\u7a0b\u6548\u7387\uff1f",id:"4-\u600e\u4e48\u7406\u89e3\u5de5\u7a0b\u6548\u7387",children:[]},{value:"1. \u4ecb\u7ecd",id:"1-\u4ecb\u7ecd",children:[]},{value:"2. \u5b89\u88c5",id:"2-\u5b89\u88c5",children:[{value:"go get/install",id:"go-getinstall",children:[]},{value:"docker",id:"docker",children:[]}]},{value:"3. \u529f\u80fd\u4ecb\u7ecd",id:"3-\u529f\u80fd\u4ecb\u7ecd",children:[{value:"\u91cd\u70b9\u6f14\u793a",id:"\u91cd\u70b9\u6f14\u793a",children:[]}]},{value:"1. 386 \u67b6\u6784\u4e0a\u5b89\u88c5 goctl \u5931\u8d25\uff01",id:"1-386-\u67b6\u6784\u4e0a\u5b89\u88c5-goctl-\u5931\u8d25",children:[]},{value:"2. grpc \u5230\u5e95\u5b89\u88c5\u4ec0\u4e48\u7248\u672c\u63d2\u4ef6\uff1f",id:"2-grpc-\u5230\u5e95\u5b89\u88c5\u4ec0\u4e48\u7248\u672c\u63d2\u4ef6",children:[]},{value:"3. \u4e3a\u4ec0\u4e48 Windows \u4e0a\u751f\u6210 api/zrpc \u4ee3\u7801\u65f6\uff0c\u603b\u662f\u63d0\u793a <code>The system cannot find the path specified</code> \u7c7b\u4f3c\u9519\u8bef\uff1f",id:"3-\u4e3a\u4ec0\u4e48-windows-\u4e0a\u751f\u6210-apizrpc-\u4ee3\u7801\u65f6\u603b\u662f\u63d0\u793a-the-system-cannot-find-the-path-specified-\u7c7b\u4f3c\u9519\u8bef",children:[]},{value:"4. No help topic &#39;proto&#39;",id:"4-no-help-topic-proto",children:[]},{value:"5. zrpc \u751f\u6210\u4ee3\u7801\u65f6\u62a5 go_package \u9519\u8bef",id:"5-zrpc-\u751f\u6210\u4ee3\u7801\u65f6\u62a5-go_package-\u9519\u8bef",children:[]},{value:"6. zrpc \u751f\u6210\u4ee3\u7801\u65f6\u6307\u5b9a\u4e86 pb \u7684\u8f93\u51fa\u76ee\u5f55\u4e3a\u5f53\u524d\u670d\u52a1 main \u76ee\u5f55",id:"6-zrpc-\u751f\u6210\u4ee3\u7801\u65f6\u6307\u5b9a\u4e86-pb-\u7684\u8f93\u51fa\u76ee\u5f55\u4e3a\u5f53\u524d\u670d\u52a1-main-\u76ee\u5f55",children:[]},{value:"7. \u4e3a\u4ec0\u4e48\u6211\u7684\u4ee3\u7801\u751f\u6210\u7684 pb client\uff08\u4e0d\uff09\u5e26 client \u6807\u5fd7\uff1f",id:"7-\u4e3a\u4ec0\u4e48\u6211\u7684\u4ee3\u7801\u751f\u6210\u7684-pb-client\u4e0d\u5e26-client-\u6807\u5fd7",children:[]},{value:"8. \u4e3a\u4ec0\u4e48\u6211\u751f\u6210\u7684\u76ee\u5f55\u7ed3\u6784\u548c\u6587\u6863\u6f14\u793a\u4e0d\u4e00\u6837\uff1f",id:"8-\u4e3a\u4ec0\u4e48\u6211\u751f\u6210\u7684\u76ee\u5f55\u7ed3\u6784\u548c\u6587\u6863\u6f14\u793a\u4e0d\u4e00\u6837",children:[]},{value:"9. \u4e3a\u4ec0\u4e48\u6211\u5b89\u88c5\u4e86 goctl \u7f16\u8f91\u5668\u63d2\u4ef6\u8fd8\u662f\u4e0d\u80fd\u9ad8\u4eae",id:"9-\u4e3a\u4ec0\u4e48\u6211\u5b89\u88c5\u4e86-goctl-\u7f16\u8f91\u5668\u63d2\u4ef6\u8fd8\u662f\u4e0d\u80fd\u9ad8\u4eae",children:[]}],g={toc:i};function s(e){var t=e.components,c=(0,a.Z)(e,l);return(0,r.kt)("wrapper",(0,o.Z)({},g,c,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h2",{id:"1-goctl-\u7684\u8bde\u751f"},"1. goctl \u7684\u8bde\u751f"),(0,r.kt)("p",null,"  goctl \u7684\u6700\u65e9\u529f\u80fd\u662f\u4e3a\u4e86\u89e3\u51b3 GRPC \u5185\u7f51\u8c03\u8bd5\u95ee\u9898\uff0c\u5927\u7ea6\u662f\u5728 2019 \u5e74\uff0c\u5728\u6211\u4eec\u7684\u751f\u4ea7\u73af\u5883\u4e2d\uff0crpc \u662f\u5185\u7f51\u9694\u79bb\u7684\uff0c\u4e0d\u53ef\u901a\u8fc7\u5916\u7f51\u8bbf\u95ee\uff0c\u4e3a\u4e86\u5feb\u901f\u53bb mock \u4e00\u4e9b\u7ebf\u4e0a RPC client \u7684\u8bf7\u6c42\uff0c\u5c31\u7b80\u5355\u7684\u5b9e\u73b0\u4e86\u7b2c\u4e00\u7248\u672c\u7684\u4ee3\u7801\u751f\u6210\uff0c\u4e3b\u8981\u76ee\u7684\u662f\u53bb\u8bbf\u95ee RPC Server \u505a\u4e00\u4e9b\u8c03\u8bd5\u3002"),(0,r.kt)("h2",{id:"2-\u4e3a\u4ec0\u4e48\u9700\u8981-goctl"},"2. \u4e3a\u4ec0\u4e48\u9700\u8981 goctl\uff1f"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u964d\u4f4e\u6c9f\u901a\u6210\u672c"),(0,r.kt)("p",{parentName:"li"},"\u6c9f\u901a\uff0c\u662f\u56e2\u961f\u534f\u4f5c\u8fdb\u884c\u4fe1\u606f\u4ea4\u6362\u7684\u4e00\u79cd\u5f62\u5f0f\uff0c\u6c9f\u901a\u7684\u65b9\u5f0f\u6709\u5f88\u591a\u79cd\uff0c\u4f1a\u8bae\u6c9f\u901a\u3001\u6587\u6863\u6c9f\u901a\u3001\u804a\u5929\u4ea4\u6d41\uff0c\u76f8\u4fe1\u4e0d\u7ba1\u662f\u54ea\u79cd\u65b9\u5f0f\uff0c\u6c9f\u901a\u90fd\u662f\u56e2\u961f\u4e2d\u6700\u96be\u7684\u4e00\u4e2a\u73af\u8282\uff0c\u4f1a\u8bae\u6c9f\u901a\u9700\u8981\u5360\u7528\u5927\u91cf\u65f6\u95f4\uff0c\u52a8\u5219\u534a\u5c0f\u65f6\u8d77\u6b65\uff0c\u6587\u6863\u6c9f\u901a\u540c\u6837\uff0c\u4e5f\u4f1a\u5360\u636e\u5927\u91cf\u65f6\u95f4\u53bb\u6784\u601d\u548c\u7f16\u5199\u5927\u7bc7\u5e45\u7684\u6587\u6863\uff0c\u6700\u540e\u53ef\u80fd\u8fd8\u6ca1\u8868\u8fbe\u51fa\u9884\u671f\u76ee\u6807\uff0c\u7ebf\u4e0a\u804a\u5929\uff0c\u9700\u8981\u53cc\u65b9\u90fd\u5728\u7ebf\u4e0a\u624d\u80fd\u8fdb\u884c\u4fe1\u606f\u4ea4\u6362\uff0c\u5f53\u7136\u6211\u4eec\u8fd9\u91cc\u6c9f\u901a\u4ea4\u6362\u7684\u4fe1\u606f\u66f4\u591a\u662f\u6307\u5f00\u53d1\u4e2d\u7684\u4e00\u4e9b\u5185\u5bb9\uff0c\u5982\u63a5\u53e3\u4fe1\u606f\u3001\u90e8\u7f72\u4fe1\u606f\u7b49\u3002")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u964d\u4f4e\u56e2\u961f\u8026\u5408"),(0,r.kt)("p",{parentName:"li"},"\u6709\u4e86\u6c9f\u901a\uff0c\u90a3\u4e48\u56e2\u961f\u4e4b\u95f4\u7684\u534f\u4f5c\u7684\u8026\u5408\u662f\u907f\u514d\u4e0d\u4e86\u7684\uff0c\u4f8b\u5982\uff1a\u5728\u524d\u540e\u7aef\u5f00\u53d1\u4e2d\uff0c\u6700\u5927\u7684\u8026\u5408\u662f\u63a5\u53e3\u7684\u8026\u5408\uff0c\u524d\u7aef\u5b8c\u6210\u4e86\u89c4\u5b9a UI \u7ed8\u5236\u540e\uff0c\u9700\u8981\u7b49\u5f85\u540e\u7aef\u7684\u63a5\u53e3\u90e8\u7f72\u5230\u5bf9\u5e94\u73af\u5883\u624d\u80fd\u5b9e\u73b0\u529f\u80fd\u7684\u8c03\u8bd5\uff0c\u5728\u6b64\u671f\u95f4\uff0c\u524d\u7aef\u7684\u56e2\u961f\u8d44\u6e90\u5c31\u4f1a\u5927\u5927\u6d6a\u8d39\uff0c\u7531\u6b64\u8fd8\u4f1a\u5bfc\u81f4\u9879\u76ee\u7684\u5ef6\u671f\u7b49\u95ee\u9898\u3002")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u63d0\u9ad8\u5f00\u53d1\u6548\u7387"),(0,r.kt)("p",{parentName:"li"},"\u9664\u4e86\u6c9f\u901a\u6210\u672c\u548c\u56e2\u961f\u8026\u5408\u4ee5\u5916\uff0c\u6bcf\u4e2a\u56e2\u961f\u5728\u8fdb\u884c\u9879\u76ee\u5f00\u53d1\u65f6\u4e5f\u6709\u5f88\u591a\u65f6\u95f4\u662f\u5728\u505a\u91cd\u590d\u7684\u5de5\u4f5c\uff0c\u4f8b\u5982\uff1a\u6211\u4eec\u5728\u5f00\u53d1\u4e00\u4e2a\u65b0\u7684\u529f\u80fd\u65f6\uff0c\u9700\u8981\u53bb\u5b9a\u4e49\u63a5\u53e3\uff0c\u7f16\u5199\u63a5\u53e3\u6587\u6863\uff0c\u7f16\u7801\u51c6\u5907\u5de5\u4f5c\uff0c\u4e1a\u52a1\u5f00\u53d1\uff0cmodel \u6587\u4ef6\uff0c\u7f16\u5199 Dockerfile \u6587\u4ef6\uff0c\u7f16\u5199 k8s yaml \u6587\u4ef6\uff0c\u5728\u8fd9\u4e9b\u4e0a\u9762\u6211\u4eec\u53ef\u4ee5\u5728\u6bcf\u4e2a\u73af\u8282\u4e0a\u90fd\u6709\u63d0\u5347\u7684\u7a7a\u95f4\uff0c\u8ba9\u7528\u6237\u5c06\u771f\u6b63\u7684\u65f6\u95f4\u96c6\u4e2d\u5728\u4e1a\u52a1\u5f00\u53d1\u4e0a\u3002")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u964d\u4f4e\u9519\u8bef\u7387"),(0,r.kt)("p",{parentName:"li"},"\u5728\u4e4b\u524d\u7684\u5f00\u53d1\u5b9e\u8df5\u4e2d\uff0c\u7ecf\u5e38\u4f1a\u51fa\u73b0 grpc server \u5b9e\u73b0\u4e0d\u5b8c\u5168\u7684\u95ee\u9898\uff0cgrpc server \u5b9e\u73b0\u7c7b\u7ecf\u5e38\u4f1a\u51fa\u73b0\u7f16\u8bd1\u4e0d\u8fc7\u7684\u60c5\u51b5\uff1b\u9664\u6b64\u4e4b\u5916\uff0c\u6570\u636e\u5e93\u67e5\u8be2\u5c42\u4ee3\u7801\u5f00\u53d1\uff0csql \u8bed\u53e5\u7684\u7f16\u5199\u591a\u53c2\uff0c\u5c11\u53c2\uff0c\u53c2\u6570\u9519\u4f4d\uff0c\u5728\u7f16\u8bd1\u8fc7\u7a0b\u4e2d\u5f88\u96be\u53d1\u73b0\uff0c\u4e00\u822c\u53ef\u80fd\u5230 QA \u73af\u8282\u624d\u80fd\u53d1\u73b0\uff0c\u66f4\u751a\u8005\u4f1a\u5bfc\u81f4\u7ebf\u4e0a\u95ee\u9898\u3002"))),(0,r.kt)("h2",{id:"3-\u600e\u4e48\u7406\u89e3\u5f00\u53d1\u89c4\u8303"},"3. \u600e\u4e48\u7406\u89e3\u5f00\u53d1\u89c4\u8303\uff1f"),(0,r.kt)("p",null,"  \u5f00\u53d1\u89c4\u8303\uff0c\u5305\u62ec\u7f16\u7801\u89c4\u8303\uff0c\u5de5\u7a0b\u89c4\u8303\uff0c\u63d0\u4ea4\u89c4\u8303\uff0c\u4ee3\u7801\u5ba1\u6838\u89c4\u8303\uff0c\u90e8\u7f72\u89c4\u8303\u7b49\u7b49\uff0c\u56e2\u961f\u5185\u5982\u679c\u5c06\u5f00\u53d1\u89c4\u8303\u7edf\u4e00\u8d77\u6765\uff0c\u5176\u6536\u76ca\u53ef\u60f3\u800c\u77e5\uff0c\u4e3e\u4e2a\u4f8b\u5b50\uff1a\u5047\u5982\u4f60\u6240\u5728\u7684\u516c\u53f8\u6ca1\u6709\u7edf\u4e00\u5f00\u53d1\u89c4\u8303\uff0c\u8fd9\u65f6\u9700\u8981\u4f60\u53bb\u505a\u4e00\u4e9b\u8de8\u90e8\u95e8\u534f\u4f5c\u6216\u8005\u652f\u6301\uff0c\u7115\u7136\u4e00\u65b0\u7684\u5f00\u53d1\u73af\u5883\u8ba9\u4f60\u671b\u800c\u5374\u6b65\uff0c\u8fd8\u6ca1\u5f00\u59cb\u5c31\u6709\u4e86\u62b5\u89e6\u7684\u5ff5\u5934\uff0c\u8fd9\u5c82\u4e0d\u662f\u8fdd\u80cc\u4e86\u652f\u6301\u7684\u521d\u8877\u3002"),(0,r.kt)("h2",{id:"4-\u600e\u4e48\u7406\u89e3\u5de5\u7a0b\u6548\u7387"},"4. \u600e\u4e48\u7406\u89e3\u5de5\u7a0b\u6548\u7387\uff1f"),(0,r.kt)("p",null,"  \u5de5\u7a0b\u6548\u7387\uff0c\u8981\u7406\u89e3\u5de5\u7a0b\u6548\u7387\uff0c\u53ef\u4ee5\u5148\u770b\u770b\u300e\u6548\u7387\u300f\u7684\u5b9a\u4e49\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-text"},"\u6548\u7387\u662f\u6307\u5355\u4f4d\u65f6\u95f4\u5185\u5b8c\u6210\u7684\u5de5\u4f5c\u91cf\n")),(0,r.kt)("p",null,"  \u6548\u7387\u7684\u76ee\u6807\u662f\u5feb\uff0c\u4f46\u5feb\u5e76\u4e0d\u662f\u6548\u7387\uff0c\u6362\u53e5\u8bdd\u8bf4\u5c31\u662f\u5728\u5355\u4f4d\u65f6\u95f4\u5185\u5b8c\u6210\u7684\u9ad8\u8d28\u91cf\u5de5\u4f5c\uff0c\u8fd9\u624d\u662f\u6211\u4eec\u8981\u8ffd\u6c42\u7684\u76ee\u6807\uff0c\u90a3\u4e48\u5de5\u7a0b\u6548\u7387\u5c31\u662f\u4e3a\u4e86\u300e\u7f29\u77ed\u4ece\u5f00\u53d1\u5230\u7ebf\u4e0a\u7684\u8ddd\u79bb\u300f"),(0,r.kt)("h1",{id:"\u4e8c-goctl-\u7684\u5b89\u88c5\u53ca\u529f\u80fd\u4ecb\u7ecd"},"\u4e8c \u3001goctl \u7684\u5b89\u88c5\u53ca\u529f\u80fd\u4ecb\u7ecd"),(0,r.kt)("h2",{id:"1-\u4ecb\u7ecd"},"1. \u4ecb\u7ecd"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"goctl \u5b9a\u4e49"),(0,r.kt)("blockquote",{parentName:"li"},(0,r.kt)("p",{parentName:"blockquote"},"goctl \u5b9a\u4e49\uff0c\u51c6\u786e\u8bf4\u662f\u5b9a\u4f4d\u5427\uff0c\u53ef\u4ee5\u7406\u89e3\u4e3a\u4e00\u4e2a\u4ee3\u7801\u751f\u6210\u811a\u624b\u67b6\uff0c\u5176\u6838\u5fc3\u601d\u60f3\u662f\u901a\u8fc7\u5bf9 DSL \u8fdb\u884c\u8bed\u6cd5\u89e3\u6790\u3001\u8bed\u4e49\u5206\u6790\u5230\u6570\u636e\u9a71\u52a8\u5b9e\u73b0\u5b8c\u6210\u4ee3\u7801\u751f\u6210\u529f\u80fd\uff0c\u65e8\u5728\u5e2e\u52a9\u5f00\u53d1\u8005\u4ece\u5de5\u7a0b\u6548\u7387\u89d2\u5ea6\u63d0\u9ad8\u5f00\u53d1\u8005\u7684\u5f00\u53d1\u6548\u7387\u3002"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u89e3\u51b3\u7684\u95ee\u9898"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"\u63d0\u9ad8\u5f00\u53d1\u6548\u7387\uff1agoctl \u7684\u4ee3\u7801\u751f\u6210\u8986\u76d6\u4e86 Go\u3001Java\u3001Android\u3001iOS\u3001TS \u7b49\u591a\u95e8\u8bed\u8a00\uff0c\u901a\u8fc7 goctl \u53ef\u4ee5\u4e00\u952e\u751f\u6210\u5404\u7aef\u4ee3\u7801\uff0c\u8ba9\u5f00\u53d1\u8005\u5c06\u7cbe\u529b\u96c6\u4e2d\u5728\u4e1a\u52a1\u5f00\u53d1\u4e0a\u3002"),(0,r.kt)("li",{parentName:"ul"},"\u964d\u4f4e\u6c9f\u901a\u6210\u672c\uff1a\u4f7f\u7528 zero-api \u66ff\u4ee3 API \u6587\u6863\uff0c\u5404\u7aef\u4ee5 zero-api \u4e3a\u4e2d\u5fc3\u751f\u6210\u5404\u7aef\u4ee3\u7801\uff0c\u65e0\u9700\u8981\u5728\u901a\u8fc7\u4f1a\u8bae\u3001API \u6587\u6863\u6765\u8fdb\u884c\u63a5\u53e3\u4fe1\u606f\u4f20\u9012\u3002"),(0,r.kt)("li",{parentName:"ul"},"\u964d\u4f4e\u8026\u5408\u5ea6\uff1a\u5728\u4e4b\u524d\u7684\u5f00\u53d1\u65f6\u95f4\u4e2d\uff0c\u6ca1\u6709 goctl \u4e4b\u524d\uff0c\u6211\u4eec\u91c7\u7528\u7684\u662f\u4f20\u7edf\u7684 API \u6587\u6863\u6765\u4f5c\u4e3a\u63a5\u53e3\u4fe1\u606f\u4f20\u9012\u7684\u8f7d\u4f53\uff0c\u7136\u540e\u901a\u8fc7\u4f1a\u8bae\u6765\u8fdb\u884c\u4e8c\u6b21 review\uff0c\u6211\u4eec\u90fd\u77e5\u9053\uff0c\u524d\u7aef\u5f00\u53d1\u5de5\u4f5c\u4e2d\uff0c\u9664\u4e86 UI \u7684\u7ed8\u5236\u5916\u5c31\u662f UI \u8054\u8c03\uff0c\u5982\u679c\u662f\u6bd4\u8f83\u79ef\u6781\u7684\u524d\u7aef\u5f00\u53d1\u8005\uff0c\u53ef\u80fd\u4f1a\u81ea\u5df1\u5229\u7528\u4e00\u4e9b\u811a\u624b\u67b6\u6216\u8005\u81ea\u5df1 mock \u4e00\u4e9b\u6570\u636e\u53bb\u8fdb\u884c UI \u8054\u8c03\uff0c\u53cd\u4e4b\uff0c\u4e5f\u6709\u539f\u5730\u7b49\u5f85\u540e\u7aef\u90e8\u7f72\u540e\u518d\u8054\u8c03\u7684 case\uff0c\u539f\u56e0\u662f\u81ea\u5df1\u5199 mock \u6570\u636e\u592a\u8017\u65f6\uff0c\u4e5f\u4e0d\u60f3\u53bb\u52a8\uff0c\u5982\u679c\u524d\u7aef\u7684\u5f00\u53d1\u8fdb\u5ea6\u5728\u540e\u7aef\u4e4b\u524d\uff0c\u90a3\u4e48\u5728\u540e\u7aef\u90e8\u7f72\u5230\u73af\u5883\u4e2d\u8fd9\u671f\u95f4\uff0c\u524d\u7aef\u53ea\u80fd\u5b89\u9759\u7684\u539f\u5730\u7b49\u5f85\uff0c\u8fd9\u4e0d\u4ec5\u662f\u4e00\u79cd\u8d44\u6e90\u7684\u6d6a\u8d39\uff0c\u4e5f\u4f1a\u9020\u6210\u9879\u76ee\u8fdb\u5ea6\u7684\u5ef6\u671f\uff0c\u6709\u4e86 zero-api \uff0c\u524d\u7aef\u53ef\u4ee5\u5229\u7528 goctl \u53bb\u751f\u6210\u9002\u91cf\u7684 mock \u6570\u636e\u6765\u8fdb\u884c UI \u8054\u8c03\u3002"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u53d1\u5c55\u5386\u53f2\n",(0,r.kt)("img",{alt:"goctl-history",src:n(7760).Z})),(0,r.kt)("p",{parentName:"li"}," goctl \u53d1\u5c55\u5386\u53f2\u53ef\u4ee5\u5927\u6982\u7684\u8fc7\u4e00\u4e0b\uff0c\u6311\u51e0\u4e2a\u6807\u5fd7\u6027\u7684\u529f\u80fd\u8bb2\u8bb2\u5427\uff01\n\u9996\u5148\u662f goctl rpc\uff0cgoctl rpc \u7684\u7b2c\u4e00\u7248\u672c\u5c31\u662f goctl \u7684\u96cf\u5f62\uff0c\u4e3b\u8981\u662f\u4e3a\u4e86\u751f\u6210 client \u4ee3\u7801\u5bf9 rpc \u505a\u8c03\u8bd5\u4f7f\u7528\uff0c\u5177\u4f53\u5c31\u4e0d\u5c55\u5f00\u4e86\u3002goctl rpc \u7684\u53d1\u5c55\u7ecf\u8fc7\u4e86\u5f88\u591a\u66f2\u6298\uff0c\u5370\u8c61\u6bd4\u8f83\u6df1\u523b\u7684\u5e94\u8be5\u7b97 goctl rpc proto \u5411 goctl rpc protoc \u7684\u8f6c\u53d8\uff0c\u8fd9\u671f\u95f4\u4e3a\u4e86\u89e3\u51b3\u5f88\u591a\u95ee\u9898\uff0c\u624d\u505a\u4e86\u76f8\u5e94\u7684\u53d8\u66f4\uff0c\u5177\u4f53\u7ec6\u8282\u5728\u5206\u4eab rpc \u4ee3\u7801\u751f\u6210\u4f7f\u7528\u90a3\u5757\u518d\u8be6\u7ec6\u5206\u4eab\uff0c\u5728\u8fd9\u91cc\u9762\u5176\u5b9e\u5bf9\u6211\u6765\u8bf4\u5370\u8c61\u6700\u6df1\u523b\u7684\u4e00\u4e2a\u529f\u80fd\u7b97\u662f goctl model \u4e86\uff0c\u5176\u7b97\u662f\u6211\u5f00\u59cb\u7ef4\u62a4 goctl \u7684\u4e00\u4e2a\u5165\u624b\u70b9\u5427\uff0c\u4e5f\u662f\u6211\u4ece\u4e1a\u52a1\u5f00\u53d1\u5b9e\u8df5\u4e2d\u6316\u6398\u7684\u89e3\u51b3\u65b9\u6848\u5427\uff0c\u7ec8\u7a76\u6211\u8fd8\u662f\u6bd4\u8f83\u201c\u61d2\u201d\uff0c\u8bb0\u5f97\u5728\u5f53\u65f6\u5f00\u53d1\u4e00\u4e2a\u4e1a\u52a1\u6a21\u5757\uff0c\u7531\u4e8e\u4e1a\u52a1\u6bd4\u8f83\u5927\uff0c\u9700\u8981\u521b\u5efa\u7684\u6570\u636e\u8868\u4e5f\u5f88\u591a\uff0c\u5728\u6ca1\u6709 goctl \u524d\u90fd\u662f\u81ea\u5df1\u53bb\u624b\u52a8\u7f16\u7801\u5b8c\u6210\uff0c\u8fd9\u4e00\u5757\u6211\u8bb0\u5fc6\u72b9\u65b0\uff0c\u82b1\u4e86\u4ec5\u4e00\u5929\u7684\u65f6\u95f4\u6765\u5199 model \u6587\u4ef6\uff0c\u56e0\u4e3a\u6211\u6ca1\u6709\u7528 orm \u7684\u4e60\u60ef\uff0c\u6240\u4ee5\u8fd9\u5757 sql \u5b8c\u5168\u662f\u88f8 sql \u8bed\u53e5\uff0c\u670d\u52a1\u8dd1\u8d77\u6765\u540e\u624d\u53d1\u73b0\u6709\u5f88\u591a sql \u4f20\u53c2\u4e0a\u7684\u9519\u8bef\uff0c\u57fa\u672c\u90fd\u662f\u591a\u53c2\u5c11\u53c2\u95ee\u9898\uff0c\u9664\u6b64\u4e4b\u5916\uff0c\u6bcf\u6b21\u65b0\u589e\u7d22\u5f15\uff0c\u6216\u8005\u5b57\u6bb5\u53d8\u66f4\uff0c\u7f13\u5b58\u7684\u76f8\u5173\u903b\u8f91\u7ef4\u62a4\u4e5f\u8ba9\u6211\u5341\u5206\u5934\u75bc\uff0c\u4e8e\u662f\u7ed3\u5408\u5f53\u65f6\u7684\u5f00\u53d1\u6700\u4f73\u5b9e\u8df5\uff0c\u5c06\u5176\u6309\u7167\u7f13\u5b58\u4e0e\u5426\u628a\u8fd9\u5757\u7684\u5de5\u4f5c\u4ea4\u7ed9\u4e86 goctl\uff0c\u7b2c\u4e00\u7248\u672c goctl model \u751f\u6210\u4e3b\u8981\u662f\u7f51\u9875\u7248\u672c\uff0c\u540e\u9762\u9646\u7eed\u96c6\u6210\u5230 goctl \u91cc\u4e86\uff0c\u8fd9\u7ed9\u6211\u540e\u7eed\u5f00\u53d1\u5e26\u6765\u4e86\u5f88\u5927\u7684\u5f00\u53d1\u6548\u7387\u6536\u76ca\u3002\n")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"\u5c55\u671b\u672a\u6765"),(0,r.kt)("p",{parentName:"li"},"goctl \u96c6\u6210\u4e86\u6bd4\u8f83\u591a\u7684\u529f\u80fd\uff0c\u5176\u57fa\u672c\u662f\u4ee5\u4ee3\u7801\u751f\u6210\u4e3a\u4e3b\uff0c\u5f00\u53d1\u89c4\u8303\u4e3a\u8f85\uff0cgoctl \u662f\u56f4\u7ed5 zero-api \u4e3a\u4e2d\u5fc3\u505a\u4ee3\u7801\u751f\u6210\u7684\uff0c\u56e0\u6b64\u5728\u5c06\u6765\uff0czero-api \u7684\u5efa\u8bbe\u4f1a\u6210\u4e3a\u6211\u4eec\u7684\u91cd\u5fc3\uff1a"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"ast \u7684\u6539\u9020\uff1a\u66ff\u6362\u539f\u6709\u6bd4\u8f83\u91cd\u7684 antlr4\uff0c\u53ef\u4ee5\u89e3\u51b3\u5f88\u591a\u4eba\u5728\u5b89\u88c5 goctl \u65f6\u7684\u5185\u5b58\u4e0d\u591f\u3001\u7cfb\u7edf\u67b6\u6784\u4e0d\u652f\u6301\u7b49\u5404\u79cd\u95ee\u9898"),(0,r.kt)("li",{parentName:"ul"},"goctl mock \u7684\u652f\u6301\uff0c\u6700\u5927\u9650\u5ea6\u89e3\u8026\u5404\u7aef\u4f9d\u8d56\u8026\u5408")))),(0,r.kt)("h2",{id:"2-\u5b89\u88c5"},"2. \u5b89\u88c5"),(0,r.kt)("p",null,"   Goctl \u5b89\u88c5\u6709\u4e24\u79cd\u65b9\u5f0f\uff0c\u5206\u522b\u662f go get \u6216\u8005 go install\uff0c\u5176\u6b21\u662f docker\u3002"),(0,r.kt)("h3",{id:"go-getinstall"},"go get/install"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},'# Go 1.16 \u4e4b\u524d\u7248\u672c\n# $ GO111MODULE=on GOPROXY=https://goproxy.cn/,direct go get -u github.com/zeromicro/go-zero/tools/goctl@latest\n\n# Go 1.16 \u53ca\u4ee5\u540e\u7248\u672c\n$ GOPROXY=https://goproxy.cn/,direct go install github.com/zeromicro/go-zero/tools/goctl@latest\n\n# macOS\n# $ brew install goctl\n# \u9a8c\u8bc1\n$ goctl --version\ngoctl version 1.3.6-beta darwin/amd64\n\n# \u67e5\u770b goctl\n$ cd $GOPATH/bin && ls | grep "goctl"\n')),(0,r.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"tip")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"\u5982\u679c\u6267\u884c goctl --version \u63d0\u793a command not found: goctl \u7684\u9519\u8bef\uff0c\u8bf7\u5148\u6392\u67e5 $GOBIN \u662f\u5426\u5728\u73af\u5883\u53d8\u91cf\u4e0b\u3002"))),(0,r.kt)("h3",{id:"docker"},"docker"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},'# 1. pull\n$ docker pull kevinwan/goctl\n....\n\n# 2. ls\n$ docker image ls | grep "goctl"\nkevinwan/goctl        latest    7fd46843de3d   5 weeks ago    383MB\n\n# 3. run\n$ docker run -it kevinwan/goctl /bin/sh\n\n')),(0,r.kt)("h2",{id:"3-\u529f\u80fd\u4ecb\u7ecd"},"3. \u529f\u80fd\u4ecb\u7ecd"),(0,r.kt)("p",null,"   \u6211\u4eec\u63a5\u4e0b\u6765\u770b\u770b\u529f\u80fd\u4ecb\u7ecd\uff0c\u901a\u8fc7\u6307\u4ee4 goctl --help \u53ef\u4ee5\u5217\u51fa\u6211\u4eec\u5f53\u524d\u5df2\u7ecf\u652f\u6301\u7684\u529f\u80fd\uff0c\u53ef\u80fd\u5927\u5bb6\u5728\u770b\u6587\u6863\u65f6\u4e5f\u6ca1\u6709\u4e13\u5fc3\u4e0b\u6765\u5bf9\u8fd9\u5757\u6307\u4ee4\u505a\u7814\u7a76\uff0c\u53ea\u662f\u7528\u5230\u4e00\u4e9b\u9ad8\u9891\u6307\u4ee4\uff0c\u4eca\u5929\u65e2\u7136\u662f goctl \u7684\u4e13\u9898\u5206\u4eab\uff0c\u6211\u4eec\u5c31\u82b1\u70b9\u65f6\u95f4\u6765\u4e00\u8d77\u8fc7\u8fc7\uff0c\u5e26\u7740\u5927\u5bb6\u4ece 0 \u5230 1 \u719f\u6089 goctl\u3002"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},'$ goctl --help                                                       \nA cli tool to generate api, zrpc, model code\n\nUsage:\ngoctl [command]\n\nAvailable Commands:\napi         Generate api related files\nbug         Report a bug\ncompletion  Generate the autocompletion script for the specified shell\ndocker      Generate Dockerfile\nenv         Check or edit goctl environment\nhelp        Help about any command\nkube        Generate kubernetes files\nmigrate     Migrate from tal-tech to zeromicro\nmodel       Generate model code\nquickstart  quickly start a project\nrpc         Generate rpc code\ntemplate    Template operation\nupgrade     Upgrade goctl to latest version\n\nFlags:\n-h, --help      help for goctl\n-v, --version   version for goctl\n\nUse "goctl [command] --help" for more information about a command.\n')),(0,r.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"tip")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"goctl \u7684\u529f\u80fd\u6bd4\u8f83\u4e30\u5bcc\uff0c\u6240\u4ee5\u96be\u514d\u6307\u4ee4\u53c2\u6570\u6bd4\u8f83\u591a\uff0c\u5927\u5bb6\u5728\u4f7f\u7528\u65f6\u9664\u4e86\u770b\u6587\u6863\u5916\uff0c\u4e5f\u5584\u7528 --help \u8fd9\u4e2a flag\uff0c\u56e0\u4e3a\u4ed6\u4f1a\u544a\u8bc9\u4f60\u6bcf\u4e2a\u6307\u4ee4\u6216\u8005\u5b50\u6307\u4ee4\u7684\u7528\u6cd5\uff0c\u9700\u8981\u4ec0\u4e48\u53c2\u6570\uff0c\u53c2\u6570\u7c7b\u578b\u662f\u5b57\u7b26\u4e32\u8fd8\u662f\u5e03\u5c14\uff0c\u662f\u5fc5\u586b\u8fd8\u662f\u53ef\u9009\uff0c\u5207\u4e0d\u53ef\u81ea\u5df1\u731c\u6d4b\u4ed6\u5e94\u8be5\u7528\u4ec0\u4e48 flag\uff0c\u867d\u7136 goctl \u662f\u6211\u81ea\u5df1\u4e3b\u8981\u7ef4\u62a4\uff0c\u5176\u5b9e\u5f88\u591a\u65f6\u5019\uff0c\u6709\u4e9b\u6307\u4ee4\u6bd4\u8f83\u6587\u6863\uff0c\u6ca1\u6709\u592a\u591a feature \u53bb\u66f4\u65b0\uff0c\u6211\u4e5f\u8bb0\u4e0d\u4f4f\uff0c\u6211\u4e5f\u662f\u901a\u8fc7 --help \u53bb\u67e5\u770b\u529f\u80fd\u4ecb\u7ecd\u7684"))),(0,r.kt)("h3",{id:"\u91cd\u70b9\u6f14\u793a"},"\u91cd\u70b9\u6f14\u793a"),(0,r.kt)("h4",{id:"goctl-completion"},"goctl completion"),(0,r.kt)("p",null,"\u67e5\u770b goctl \u7248\u672c"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"$ goctl --version\ngoctl version 1.3.5 darwin/amd64\n")),(0,r.kt)("h5",{id:"135"},"1.3.5"),(0,r.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"tip")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"\u672c\u8282\u5185\u5bb9\u4ec5\u9002\u5408 goctl \u7248\u672c\u5728 1.3.5 \u53ca\u4e4b\u524d\u7684\u7684\u81ea\u52a8\u8865\u5168\u8bbe\u7f6e\u53c2\u8003\uff0c1.3.5 \u7248\u672c\u53ca\u4e4b\u524d\u4ec5\u652f\u6301\u7c7b Unix \u64cd\u4f5c\u7cfb\u7edf\uff0c\u4e0d\u652f\u6301 Windows \u7684\u81ea\u52a8\u8865\u5168\uff0c1.3.5 \u4e4b\u540e\u7684\u8bf7\u8df3\u8fc7\u6b64\u8282\u5185\u5bb9"))),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"\u6267\u884c goctl completion -h \u67e5\u770b\u4f7f\u7528\u8bf4\u660e")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"$ goctl completion --help                                \n   NAME:\n   goctl completion - generation completion script, it only works for unix-like OS\n\nUSAGE:\ngoctl completion [command options] [arguments...]\n\nOPTIONS:\n--name value, -n value  the filename of auto complete script, default is [goctl_autocomplete]\n")),(0,r.kt)("p",null,"\u6839\u636e\u5e2e\u52a9\u8bf4\u660e\u5f97\u77e5\uff0cgoctl completion \u652f\u6301\u901a\u8fc7 --name \u4f20\u9012\u4e00\u4e2a\u53c2\u6570\u751f\u6210\u81ea\u52a8\u8865\u5168\u811a\u672c\u6587\u4ef6\u540d\uff0c\u4f46\u8be5\u53c2\u6570\u4e3a\u975e\u5fc5\u586b\uff0c\u9ed8\u8ba4\u4e0d\u586b\u65f6\u4e3a goctl_autocomplete \u6587\u4ef6\uff0c\u5176\u4f4d\u4e8e $GOCTLHOME \u76ee\u5f55\u4e0b\u3002"),(0,r.kt)("ol",{start:2},(0,r.kt)("li",{parentName:"ol"},"\u6267\u884c goctl completion \u6765\u751f\u6210\u81ea\u52a8\u8865\u5168\u811a\u672c")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"$ goctl completion\ngeneration auto completion success!\nexecutes the following script to setting shell:\necho PROG=goctl source /Users/keson/.goctl/.auto_complete/zsh/goctl_autocomplete >> ~/.zshrc && source ~/.zshrc\nor\necho PROG=goctl source /Users/keson/.goctl/.auto_complete/bash/goctl_autocomplete >> ~/.bashrc && source ~/.bashrc\n")),(0,r.kt)("ol",{start:3},(0,r.kt)("li",{parentName:"ol"},"\u67e5\u770b\u5f53\u524d shell")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"$ echo $SHELL                                                  \n/bin/zsh\n")),(0,r.kt)("ol",{start:4},(0,r.kt)("li",{parentName:"ol"},"\u9009\u62e9\u5bf9\u5e94 shell \u7684\u811a\u672c\u6267\u884c\uff0c\u6211\u8fd9\u91cc\u4e3a zsh\uff0c\u6240\u4ee5\u6267\u884c\u6307\u4ee4\u5982\u4e0b")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"$ echo PROG=goctl source /Users/keson/.goctl/.auto_complete/zsh/goctl_autocomplete >> ~/.zshrc && source ~/.zshrc\n")),(0,r.kt)("ol",{start:5},(0,r.kt)("li",{parentName:"ol"},"\u91cd\u542f\u7ec8\u7aef\u9a8c\u8bc1\u7ed3\u679c")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"# \u952e\u5165 goctl \u540e\u6309\u4e0b tab \u952e\u67e5\u770b\u81ea\u52a8\u8865\u5168\u63d0\u793a\n$ goctl # tab\napi            -- generate api related files\nbug            -- report a bug\ncompletion     -- generation completion script, it only works for unix-like OS\ndocker         -- generate Dockerfile\nenv            -- check or edit goctl environment\nhelp        h  -- Shows a list of commands or help for one command\nkube           -- generate kubernetes files\nmigrate        -- migrate from tal-tech to zeromicro\nmodel          -- generate model code\nrpc            -- generate rpc code\ntemplate       -- template operation\nupgrade        -- upgrade goctl to latest version\n")),(0,r.kt)("h5",{id:"136"},"1.3.6"),(0,r.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"tip")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"\u672c\u8282\u5185\u5bb9\u4ec5\u9002\u5408 goctl \u7248\u672c\u5728 1.3.6 \u53ca\u4e4b\u540e\u7684\u7684\u81ea\u52a8\u8865\u5168\u8bbe\u7f6e\u53c2\u8003\uff0c1.3.6 \u4e4b\u524d\u7684\u8bf7\u8df3\u8fc7\u6b64\u8282\u5185\u5bb9"))),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"\u5982\u679c\u4f60\u662f\u4ece 1.3.5 \u5347\u7ea7\u5230 1.3.6 \u53ca\u4ee5\u540e\uff0c\u5219\u9700\u8981\u6267\u884c\u5982\u4e0b\u6307\u4ee4\u6765\u6e05\u9664\u65e7\u7248\u672c\u81ea\u52a8\u8865\u5168\u914d\u7f6e\uff0c\u8fd9\u91cc\u4ee5 zsh \u4e3a\u4f8b\u5b50\uff0c\u5426\u5219\u8bf7\u8df3\u8fc7\u8fd9\u4e00\u6b65")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"# \u7f16\u8f91 ~/.zshrc\n$ vim ~/.zshrc\n# \u627e\u5230 PROG=goctl \u6240\u5728\u884c\u5e76\u5220\u9664\n# source\n$ source ~/.zshrc && rm .zcompdump*\n# \u91cd\u542f\u7ec8\u7aef\n")),(0,r.kt)("ol",{start:2},(0,r.kt)("li",{parentName:"ol"},"\u6267\u884c goctl completion -h \u67e5\u770b\u4f7f\u7528\u8bf4\u660e\uff0c\u4ece\u4f7f\u7528\u5e2e\u52a9\u4e2d\u53ef\u4ee5\u67e5\u770b\u5230\u76ee\u524d\u652f\u6301 bash\u3001fish \u3001powershell\u3001zsh 4 \u79cd shell \u7684\u81ea\u52a8\u8865\u5168\u3002")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},'$ goctl completion --help\nGenerate the autocompletion script for goctl for the specified shell.\nSee each sub-command\'s help for details on how to use the generated script.\n\nUsage:\ngoctl completion [command]\n\nAvailable Commands:\nbash        Generate the autocompletion script for bash\nfish        Generate the autocompletion script for fish\npowershell  Generate the autocompletion script for powershell\nzsh         Generate the autocompletion script for zsh\n\nFlags:\n-h, --help   help for completion\n\nUse "goctl completion [command] --help" for more information about a command.\n')),(0,r.kt)("ol",{start:3},(0,r.kt)("li",{parentName:"ol"},"\u67e5\u770b\u5f53\u524d\u4f7f\u7528\u7684 shell")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"$ echo $SHELL                                                  \n/bin/zsh\n")),(0,r.kt)("ol",{start:4},(0,r.kt)("li",{parentName:"ol"},"\u7531\u4e8e\u5f53\u524d\u4f7f\u7528\u7684 zsh\uff0c\u6240\u4ee5\u6211\u4eec\u6765\u770b\u4e00\u4e0b zsh \u7684\u81ea\u52a8\u8865\u5168\u8bbe\u7f6e\u5e2e\u52a9")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},'$ goctl completion zsh --help\nGenerate the autocompletion script for the zsh shell.\n\nIf shell completion is not already enabled in your environment you will need\nto enable it.  You can execute the following once:\n\n        echo "autoload -U compinit; compinit" >> ~/.zshrc\n\nTo load completions for every new session, execute once:\n\n#### Linux:\n\n        goctl completion zsh > "${fpath[1]}/_goctl"\n\n#### macOS:\n\n        goctl completion zsh > /usr/local/share/zsh/site-functions/_goctl\n\nYou will need to start a new shell for this setup to take effect.\n\nUsage:\ngoctl completion zsh [flags]\n\nFlags:\n-h, --help              help for zsh\n--no-descriptions   disable completion descriptions\n')),(0,r.kt)("p",null,"\u4ece\u4e0a\u6587\u53ef\u4ee5\u770b\u51fa\uff0c\u6839\u636e\u64cd\u4f5c\u7cfb\u7edf\u7684\u4e0d\u540c\uff0c\u81ea\u52a8\u8865\u5168\u7684\u8bbe\u7f6e\u65b9\u5f0f\u4e5f\u4e0d\u4e00\u6837\uff0c\u6211\u8fd9\u91cc\u662f macOS\uff0c\u6211\u4eec\u6267\u884c\u4e00\u4e0b\u5bf9\u5e94\u7684\u6307\u4ee4\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"$ goctl completion zsh > /usr/local/share/zsh/site-functions/_goctl\n")),(0,r.kt)("p",null,"\u6211\u4eec\u5148\u91cd\u5f00\u4e00\u4e2a\u7ec8\u7aef\u6765\u8bd5\u4e00\u4e0b\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"# \u952e\u5165 goctl \u540e\u6309\u4e0b tab \u952e\u67e5\u770b\u81ea\u52a8\u8865\u5168\u63d0\u793a\n$ goctl # tab\napi         -- Generate api related files\nbug         -- Report a bug\ncompletion  -- Generate the autocompletion script for the specified shell\ndocker      -- Generate Dockerfile\nenv         -- Check or edit goctl environment\nhelp        -- Help about any command\nkube        -- Generate kubernetes files\nmigrate     -- Migrate from tal-tech to zeromicro\nmodel       -- Generate model code\nquickstart  -- quickly start a project\nrpc         -- Generate rpc code\ntemplate    -- Template operation\nupgrade     -- Upgrade goctl to latest version\n")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"\u5e38\u89c1\u9519\u8bef")),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"goctl Error: unknown flag: --generate-goctl-completion"),(0,r.kt)("li",{parentName:"ol"},"(eval):1: command not found: _goctl\n\u6309\u7167 1.3.6 \u81ea\u52a8\u8865\u5168\u914d\u7f6e\u91cd\u65b0\u884c\u914d\u7f6e")),(0,r.kt)("h4",{id:"goctl-migrate"},"goctl migrate"),(0,r.kt)("p",null,"\u5e2e\u52a9\u5f00\u53d1\u8005\u4ece 1.3.0 \u4e4b\u524d\u7248\u672c\u65e0\u7f1d\u8fc1\u79fb\u5230 1.3.0 \u53ca\u4e4b\u540e\u7684\u4efb\u610f\u7248\u672c\uff0c\u5982\u679c\u4f7f\u7528\u7684 go-zero \u7248\u672c\u672c\u8eab\u5c31\u662f 1.3.0 \u53ca\u4e4b\u540e\u7684\uff0c\u5219\u65e0\u9700\u505a\u6b64\u64cd\u4f5c\u3002"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"\u4e3a\u4ec0\u4e48\u9700\u8981\u8fc1\u79fb\uff1f"),"\ngo-zero \u5728 1.3.0 \u7248\u672c\u505a\u4e86\u7ec4\u7ec7\u53d8\u66f4\uff0c\u5373\u7528 zeromicro \u66ff\u6362\u539f\u6765\u7684 tal-tech \u7ec4\u7ec7\u540d\u79f0\u3002"),(0,r.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"tip")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"\u6211\u73b0\u5728\u6709\u4e00\u4e2a\u6f14\u793a\u9879\u76ee awesomemigrate \u662f\u7528\u65e7\u7248\u672c goctl \u751f\u6210\u7684\uff0c\u8be5\u9879\u76ee\u7684 go-zero \u7684 module \u4e3a"))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-go"},"module awesomemigrate\n\ngo 1.18\n\nrequire github.com/tal-tech/go-zero v1.2.5\n\n...\n")),(0,r.kt)("p",null,"\u5047\u8bbe\u6211\u4eec\u9700\u8981\u5c06\u8be5\u9879\u76ee\u7684 go-zero \u5347\u7ea7\u81f3\u622a\u6b62\u76ee\u524d\u6700\u65b0\u7248\u672c 1.3.3 \uff0c\u8981\u5b8c\u6210\u9879\u76ee\u4ece tal-tech \u5230 zeromicro \u7684\u5347\u7ea7\u524d\u9700\u8981\u786e\u4fdd goctl \u7248\u672c\u5927\u4e8e v1.3.2\uff0c\u7136\u540e\u5728\u6267\u884c goctl \u8fc1\u79fb\u6307\u4ee4\u6267\u884c\uff0c\u5982\u679c goctl \u7248\u672c\u5c0f\u4e8e v1.3.2\uff0c\u5219\u9700\u8981\u5347\u7ea7\u3002"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"# 1. \u67e5\u770b\u5f53\u524d goctl \u7248\u672c\n$ goctl --version\ngoctl version 1.2.5 darwin/amd64\n\n# 2. \u7531\u4e8e goctl \u7248\u672c\u5c0f\u4e8e v1.3.2\uff0c\u5219\u9700\u8981\u5347\u7ea7\u81f3\u6700\u65b0\uff0c\u5982\u679c goctl \u7248\u672c\u5df2\u7ecf\u662f 1.3.2 \u53ca\u4e4b\u540e\u4e86\uff0c\u5219\u53ef\u4ee5\u4e0d\u7528\u5347\u7ea7\n$ go install github.com/zeromicro/go-zero/tools/goctl@latest\n\n# 3. \u67e5\u770b\u4e00\u4e0b\u8fc1\u79fb\u6307\u4ee4\u4f7f\u7528\u5e2e\u52a9\n$ goctl migrate --help                                  \nNAME:\ngoctl migrate - migrate from tal-tech to zeromicro\n\nUSAGE:\ngoctl migrate [command options] [arguments...]\n\nDESCRIPTION:\nmigrate is a transition command to help users migrate their projects from tal-tech to zeromicro version\n\nOPTIONS:\n--verbose, -v    verbose enables extra logging\n--version value  the target release version of github.com/zeromicro/go-zero to migrate\n\n# 4. \u8fdb\u5165\u5f85\u8fc1\u79fb\u7684\u9879\u76ee\u4e0b\uff0c\u6267\u884c\u8fc1\u79fb\u6307\u4ee4\n$ goctl migrate --version 1.3.3\n\n# 5. \u9a8c\u8bc1\u4f9d\u8d56\u662f\u5426\u5b58\u5728\u95ee\u9898\n$ go test .\n?       awesomemigrate  [no test files]\n")),(0,r.kt)("p",null,"\u8fc1\u79fb\u5b8c\u6210\u540e\uff0c\u6211\u4eec\u518d\u6765\u770b\u770b module \u6587\u4ef6"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-go"},"module awesomemigrate\n\ngo 1.18\n\nrequire github.com/zeromicro/go-zero v1.3.3\n...\n")),(0,r.kt)("p",null,"\u5728 project \u641c\u7d22\u4e00\u4e0b tal-tech \u7684\u5339\u914d\u7ed3\u679c\u4f1a\u53d1\u73b0\u4e3a 0\uff1a"),(0,r.kt)("h4",{id:"goctl-env"},"goctl env"),(0,r.kt)("p",null,"goctl env \u4e3b\u8981\u662f\u7528\u4e8e\u73af\u5883\u68c0\u6d4b\u3001\u5b89\u88c5\u3001\u73af\u5883\u53c2\u6570\u63a7\u5236\u7b49\u529f\u80fd\uff0c\u9664\u6b64\u4e4b\u5916\u8fd8\u53ef\u4ee5\u67e5\u770b\u5f53\u524d goctl \u7684\u4e00\u4e9b\u73af\u5883\u4fe1\u606f\uff0c\u4ee5\u81f3\u4e8e\u7528\u6237\u5728\u9047\u5230 bug \u65f6\u53ef\u4ee5\u6839\u636e\u6b64\u73af\u5883\u4e0a\u62a5\u5f53\u524d goctl \u5904\u4e8e\u7684\u73af\u5883\u3002"),(0,r.kt)("p",null,"\u9996\u5148\u6211\u4eec\u770b\u770b\u5176\u4f7f\u7528\u8bf4\u660e"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"$ goctl env --help                                    \nNAME:\ngoctl env - check or edit goctl environment\n\nUSAGE:\ngoctl env command [command options] [arguments...]\n\nCOMMANDS:\ninstall  goctl env installation\ncheck    detect goctl env and dependency tools\n\nOPTIONS:\n--write value, -w value  edit goctl environment\n--help, -h               show help\n")),(0,r.kt)("p",null,"goctl env \u652f\u6301\u73af\u5883\u67e5\u770b\u3001\u53c2\u6570\u4fee\u6539\u3001\u4f9d\u8d56\u68c0\u6d4b\u5b89\u88c5\u51e0\u4e2a\u529f\u80fd\uff0c\u6211\u4eec\u4f9d\u6b21\u6765\u770b\u4e00\u4e0b"),(0,r.kt)("h5",{id:"1-\u73af\u5883\u67e5\u770b"},"1. \u73af\u5883\u67e5\u770b"),(0,r.kt)("p",null,"\u5728\u4e0d\u8f93\u5165\u4efb\u4f55 flag \u7684\u60c5\u51b5\u4e0b\uff0c\u5219\u662f\u67e5\u770b\u5f53\u524d goctl \u73af\u5883\u3002"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"$ goctl env                                             \nGOCTL_OS=darwin                        \nGOCTL_ARCH=amd64\nGOCTL_HOME=/Users/keson/.goctl\nGOCTL_DEBUG=false\nGOCTL_CACHE=/Users/keson/.goctl/cache\nGOCTL_VERSION=1.3.5\nPROTOC_VERSION=3.19.4\nPROTOC_GEN_GO_VERSION=v1.27.1\nPROTO_GEN_GO_GRPC_VERSION=1.2.0\n")),(0,r.kt)("p",null,"\u4ee5\u4e0a\u53c2\u6570\u7684\u5927\u6982\u8bf4\u660e\u4e3a"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"\u53c2\u6570\u540d\u79f0"),(0,r.kt)("th",{parentName:"tr",align:null},"\u53c2\u6570\u7c7b\u578b"),(0,r.kt)("th",{parentName:"tr",align:null},"\u53c2\u6570\u8bf4\u660e"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"GOCTL_OS"),(0,r.kt)("td",{parentName:"tr",align:null},"STRING"),(0,r.kt)("td",{parentName:"tr",align:null},"\u5f53\u524d\u64cd\u4f5c\u7cfb\u7edf\uff0c\u5e38\u89c1\u503c\u6709 darwin\u3001windows\u3001linux \u7b49")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"GOCTL_ARCH"),(0,r.kt)("td",{parentName:"tr",align:null},"STRING"),(0,r.kt)("td",{parentName:"tr",align:null},"\u5f53\u524d\u7cfb\u7edf\u67b6\u6784\uff0c\u5e38\u89c1\u503c\u6709 amd64, 386 \u7b49")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"GOCTL_HOME"),(0,r.kt)("td",{parentName:"tr",align:null},"STRING"),(0,r.kt)("td",{parentName:"tr",align:null},"\u9ed8\u8ba4\u4e3a ~/.goctl")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"GOCTL_DEBUG"),(0,r.kt)("td",{parentName:"tr",align:null},"BOOLEAN"),(0,r.kt)("td",{parentName:"tr",align:null},"\u662f\u5426\u5f00\u542f debug \u6a21\u5f0f\uff0c\u9ed8\u8ba4\u4e3a false\uff0c\u76ee\u524d\u6682\u672a\u4f7f\u7528\uff0c\u4e3b\u8981\u662f goctl \u5f00\u53d1\u4e2d\u53ef\u80fd\u7528\u4e8e\u63a7\u5236\u8c03\u8bd5\u6a21\u5f0f")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"GOCTL_CACHE"),(0,r.kt)("td",{parentName:"tr",align:null},"STRING"),(0,r.kt)("td",{parentName:"tr",align:null},"goctl \u7f13\u5b58\u76ee\u5f55\uff0c\u4e3b\u8981\u7f13\u5b58\u4e0b\u8f7d\u7684\u4f9d\u8d56 protoc\u3001protoc-gen-go\u3001protoc-gen-go-grpc \u7b49")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"GOCTL_VERSION"),(0,r.kt)("td",{parentName:"tr",align:null},"STRING"),(0,r.kt)("td",{parentName:"tr",align:null},"\u5f53\u524d goctl \u7248\u672c")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"PROTOC_VERSION"),(0,r.kt)("td",{parentName:"tr",align:null},"STRING"),(0,r.kt)("td",{parentName:"tr",align:null},"\u5f53\u524d protoc \u7248\u672c\uff0c\u5982\u672a\u5b89\u88c5\u5219\u4e3a\u7a7a\u5b57\u7b26\u4e32")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"PROTOC_GEN_GO_VERSION"),(0,r.kt)("td",{parentName:"tr",align:null},"STRING"),(0,r.kt)("td",{parentName:"tr",align:null},"\u5f53\u524d protoc-gen-go \u7248\u672c\uff0c\u5982\u672a\u5b89\u88c5\u6216\u8005\u4ece github.com/golang/protobuf \u5b89\u88c5\u7248\u672c\u4e3a v1.3.2 \u4e4b\u524d\u7684\u5219\u4e3a\u7a7a\u5b57\u7b26\u4e32")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"PROTO_GEN_GO_GRPC_VERSION"),(0,r.kt)("td",{parentName:"tr",align:null},"STRING"),(0,r.kt)("td",{parentName:"tr",align:null},"\u5f53\u524d protoc-gen-go-grpc\u7248\u672c\uff0c\u5982\u672a\u5b89\u88c5\u5219\u4e3a\u7a7a\u5b57\u7b26\u4e32")))),(0,r.kt)("h5",{id:"2-\u4fee\u6539\u53c2\u6570"},"2. \u4fee\u6539\u53c2\u6570"),(0,r.kt)("p",null,"\u6bd4\u5982\u6211\u4eec\u5c06 GOCTL_DEBUG \u4fee\u6539\u4e3a true"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"# \u4fee\u6539\u524d\n$ goctl env | grep 'GOCTL_DEBUG'\nGOCTL_DEBUG=false\n\n# \u4fee\u6539 GOCTL_DEBUG \u4e3a true\n$ goctl env -w GOCTL_DEBUG=true\n\n# \u4fee\u6539\u540e\ngoctl env | grep 'GOCTL_DEBUG'\nGOCTL_DEBUG=true\n")),(0,r.kt)("h5",{id:"3-\u4f9d\u8d56\u68c0\u6d4b\u5b89\u88c5"},"3. \u4f9d\u8d56\u68c0\u6d4b/\u5b89\u88c5"),(0,r.kt)("p",null,"\u6211\u4eec\u6765\u68c0\u6d4b\u4e00\u4e0b\u6211\u5f53\u524d\u7684\u4f9d\u8d56\u90fd\u662f\u5426\u5b89\u88c5\u597d\uff0c\u76ee\u524d\u4f9d\u8d56\u68c0\u6d4b\u5185\u5bb9\u4e3a protoc\u3001protoc-gen-go\u3001protoc-gen-go-grpc"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},'# \u6211\u4eec\u6765\u68c0\u67e5\u4e00\u4e0b\u4f9d\u8d56\u5b89\u88c5\n$ goctl env check --verbose                              \n[goctl-env]: preparing to check env\n\n[goctl-env]: looking up "protoc"\n[goctl-env]: "protoc" is not found in PATH\n\n[goctl-env]: looking up "protoc-gen-go"\n[goctl-env]: "protoc-gen-go" is not found in PATH\n\n[goctl-env]: looking up "protoc-gen-go-grpc"\n[goctl-env]: "protoc-gen-go-grpc" is not found in PATH\n\n[goctl-env]: check env finish, some dependencies is not found in PATH, you can execute\ncommand \'goctl env check --install\' to install it, for details, please execute command\n\'goctl env check --help\'\n\n# \u5b89\u88c5\u4f9d\u8d56\uff0c\u5b89\u88c5\u4f9d\u8d56\u6709 2 \u79cd\u65b9\u5f0f\n# \u65b9\u5f0f\u4e00\n# $ goctl env check --install --force --verbose\n\n# \u65b9\u5f0f\u4e8c\n$ goctl env install --verbose -f                       \n[goctl-env]: preparing to check env\n\n[goctl-env]: looking up "protoc"\n[goctl-env]: "protoc" is not found in PATH\n[goctl-env]: preparing to install "protoc"\n[goctl-env]: "protoc" is already installed in "/Users/keson/go/bin/protoc"\n\n[goctl-env]: looking up "protoc-gen-go"\n[goctl-env]: "protoc-gen-go" is not found in PATH\n[goctl-env]: preparing to install "protoc-gen-go"\n[goctl-env]: "protoc-gen-go" is already installed in "/Users/keson/go/bin/protoc-gen-go"\n\n[goctl-env]: looking up "protoc-gen-go-grpc"\n[goctl-env]: "protoc-gen-go-grpc" is not found in PATH\n[goctl-env]: preparing to install "protoc-gen-go-grpc"\n[goctl-env]: "protoc-gen-go-grpc" is already installed in "/Users/keson/go/bin/protoc-gen-go-grpc"\n\n[goctl-env]: congratulations! your goctl environment is ready!\n')),(0,r.kt)("h4",{id:"goctl-rpc"},"goctl rpc"),(0,r.kt)("p",null,"\u9996\u5148\u6211\u4eec\u6765\u770b\u4e00\u4e0b\u8be5\u6307\u4ee4\u7684\u4f7f\u7528\u5e2e\u52a9"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},'goctl rpc -h                                                       \nGenerate rpc code\n\nUsage:\ngoctl rpc [flags]\ngoctl rpc [command]\n\nAvailable Commands:\nnew         Generate rpc demo service\nprotoc      Generate grpc code\ntemplate    Generate proto template\n\nFlags:\n--branch string   The branch of the remote repo, it does work with --remote\n-h, --help            help for rpc\n--home string     The goctl home path of the template, --home and --remote cannot be set at the same time, if they are, --remote has higher priority\n--o string        Output a sample proto file\n--remote string   The remote git repo of the template, --home and --remote cannot be set at the same time, if they are, --remote has higher priority\nThe git repo directory must be consistent with the https://github.com/zeromicro/go-zero-template directory structure\n\nUse "goctl rpc [command] --help" for more information about a command.\n')),(0,r.kt)("p",null,"\u8be5\u6307\u4ee4\u63d0\u4f9b\u4e86\u4e09\u4e2a\u5b50\u6307\u4ee4\uff0cnew \u662f\u5feb\u901f\u521b\u5efa\u4e00\u4e2a zrpc \u670d\u52a1\uff0cprotoc \u662f\u6839\u636e proto \u63cf\u8ff0\u6587\u4ef6\u751f\u6210 zrpc \u4ee3\u7801\uff0c\u800c template \u5219\u662f\u5feb\u901f\u751f\u6210\u4e00\u4e2a proto \u6a21\u677f\uff0c\u6211\u4eec\u5c06\u91cd\u70b9\u56f4\u7ed5 goctl rpc protoc \u6307\u4ee4\u6765\u5c55\u5f00\uff0c\u770b\u770b goctl rpc protoc \u7684\u4f7f\u7528\u8bf4\u660e:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},'goctl rpc protoc -h                                              \nGenerate grpc code\n\nUsage:\ngoctl rpc protoc [flags]\n\nExamples:\ngoctl rpc protoc xx.proto --go_out=./pb --go-grpc_out=./pb --zrpc_out=.\n\nFlags:\n--branch string     The branch of the remote repo, it does work with --remote\n-h, --help              help for protoc\n--home string       The goctl home path of the template, --home and --remote cannot be set at the same time, if they are, --remote has higher priority\n--remote string     The remote git repo of the template, --home and --remote cannot be set at the same time, if they are, --remote has higher priority\nThe git repo directory must be consistent with the https://github.com/zeromicro/go-zero-template directory structure\n--style string      The file naming format, see [https://github.com/zeromicro/go-zero/tree/master/tools/goctl/config/readme.md] (default "gozero")\n-v, --verbose           Enable log output\n--zrpc_out string   The zrpc output directory\n')),(0,r.kt)("p",null,"goctl rpc protoc \u5230\u5e95\u600e\u4e48\u4f7f\u7528\uff0c\u4e3a\u4ec0\u4e48\u793a\u4f8b\u91cc\u9762\u6709 --go_out\u3001--go-grpc_out \u53c2\u6570\uff0c\u800c\u67e5\u770b help \u7684\u65f6\u5019\u5374\u6ca1\u6709\u770b\u5230\u4ecb\u7ecd\uff1f\u76ee\u524d\u6211\u4eec\u5148\u8fd9\u6837\u7406\u89e3\uff0c\u6211\u4eec\u5148\u629b\u5f00 goctl\uff0c\u6839\u636e\u5b98\u65b9 protoc \u751f\u6210 grpc \u4ee3\u7801\u65f6\u7684\u6307\u4ee4\u662f\u4ec0\u4e48\uff1f\u4f1a\u7528\u5230\u54ea\u4e9b flag\uff0c\u5bf9\u4e8e zrpc \u7684\u4ee3\u7801\u751f\u6210\uff0c\u4f60\u53ef\u4ee5\u7406\u89e3\u4e3a goctl \u751f\u6210 zrpc \u53ea\u662f\u5728\u751f\u6210 grpc \u4ee3\u7801\u6307\u4ee4\u7684\u57fa\u7840\u4e0a\u52a0\u4e86 goctl rpc \u524d\u7f00\u548c\u4e00\u4e9b goctl \u751f\u6210 zrpc \u9700\u8981\u7684 flag\uff0c\u800c\u5bf9\u4e8e protoc \u53ca\u63d2\u4ef6 protoc-gen-go\u3001 protoc-gen-grpc-go \u7684\u76f8\u5173\u53c2\u6570 goctl \u53ea\u662f\u505a\u7ee7\u627f\uff0c\u6ca1\u6709\u5fc5\u8981\u663e\u793a\u7684\u5728 help \u91cc\u9762\u518d\u63cf\u8ff0\u4e00\u904d\uff0c\u540e\u9762\u5728\u5206\u6790\u6e90\u7801\u65f6\u53ef\u4ee5\u7ed9\u5927\u5bb6\u8be6\u7ec6\u8bb2\u89e3\u4e00\u4e9b\u8fd9\u5757\u7684\u8bbe\u8ba1\u548c\u8003\u8651\uff0c\u63a5\u4e0b\u6765\u6211\u4eec\u7528\u4e00\u4e2a\u4f8b\u5b50\u6765\u6f14\u793a\u4e00\u4e0b\uff0c\u5047\u8bbe\u6211\u4eec\u6709\u4e00\u4e2a greet.proto \u6587\u4ef6\uff0c\u629b\u5f00 goctl \uff0c\u6211\u4eec\u751f\u6210 grpc \u4ee3\u7801\u9700\u8981\u6267\u884c\u7684\u6307\u4ee4\u5982\u4e0b\uff1a"),(0,r.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"tip")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"\u5982\u679c\u4e0d\u77e5\u9053 grpc \u4ee3\u7801\u662f\u600e\u4e48\u751f\u6210\u7684\uff0c\u8fd9\u5757\u5efa\u8bae\u53c2\u8003\u5b98\u65b9\u6587\u6863 ",(0,r.kt)("a",{parentName:"p",href:"https://grpc.io/"},"https://grpc.io/")))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"# \u8fdb\u5165 greet.proto \u6240\u5728\u76ee\u5f55\n$ protoc greet.proto --go_out . --go-grpc_out .\n$ tree\n.\n\u251c\u2500\u2500 greet.proto\n\u2514\u2500\u2500 pb\n\u251c\u2500\u2500 greet.pb.go\n\u2514\u2500\u2500 greet_grpc.pb.go\n")),(0,r.kt)("p",null,"\u90a3\u4e48\u6309\u7167\u4e0a\u6587\u5bf9 goctl rpc protoc \u7684\u4ecb\u7ecd\uff0c\u6211\u4eec\u751f\u6210 zrpc \u4ee3\u7801\u7684\u6307\u4ee4\u5219\u5e94\u8be5\u4e3a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},'# \u8fd9\u91cc\u591a\u4e86\u4e00\u4e2a --zrpc_out \u7528\u4e8e\u6307\u5b9a zrpc \u4ee3\u7801\u7684\u8f93\u51fa\u76ee\u5f55\n$ goctl rpc protoc greet.proto --go_out=. --go-grpc_out=. --zrpc_out=. --verbose                              \uf64f 23:02:39  \ufa1e2.625s\n[goctl-env]: preparing to check env\n\n[goctl-env]: looking up "protoc"\n[goctl-env]: "protoc" is installed\n\n[goctl-env]: looking up "protoc-gen-go"\n[goctl-env]: "protoc-gen-go" is installed\n\n[goctl-env]: looking up "protoc-gen-go-grpc"\n[goctl-env]: "protoc-gen-go-grpc" is installed\n\n[goctl-env]: congratulations! your goctl environment is ready!\n[command]: protoc greet.proto --go_out . --go-grpc_out .\nDone.\n$ tree                                                                                                         \uf64f 23:02:52  \ufa1e819ms\n.\n\u251c\u2500\u2500 etc\n\u2502   \u2514\u2500\u2500 greet.yaml\n\u251c\u2500\u2500 go.mod\n\u251c\u2500\u2500 greet\n\u2502   \u2514\u2500\u2500 greet.go\n\u251c\u2500\u2500 greet.go\n\u251c\u2500\u2500 greet.proto\n\u251c\u2500\u2500 internal\n\u2502   \u251c\u2500\u2500 config\n\u2502   \u2502   \u2514\u2500\u2500 config.go\n\u2502   \u251c\u2500\u2500 logic\n\u2502   \u2502   \u2514\u2500\u2500 pinglogic.go\n\u2502   \u251c\u2500\u2500 server\n\u2502   \u2502   \u2514\u2500\u2500 greetserver.go\n\u2502   \u2514\u2500\u2500 svc\n\u2502       \u2514\u2500\u2500 servicecontext.go\n\u2514\u2500\u2500 pb\n\u251c\u2500\u2500 greet.pb.go\n\u2514\u2500\u2500 greet_grpc.pb.go\n\n8 directories, 11 files\n')),(0,r.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"tip")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"\u5982\u679c\u5728\u751f\u6210\u4ee3\u7801\u65f6\u9700\u8981\u8f93\u51fa\u65e5\u5fd7\uff0c\u53ef\u4ee5\u52a0 --verbose \u6765\u663e\u793a\u65e5\u5fd7\u3002\ngoctl rpc protoc \u5728\u751f\u6210 zrpc \u4ee3\u7801\u65f6\u4f1a\u5148\u5bf9\u4f60\u7684\u73af\u5883\u4f9d\u8d56\u8fdb\u884c\u68c0\u6d4b\uff0c\u5982\u679c\u6ca1\u6709\u5b89\u88c5\u5219\u4f1a\u81ea\u52a8\u5b89\u88c5\u4f9d\u8d56\u518d\u751f\u6210\u4ee3\u7801\u3002"))),(0,r.kt)("h4",{id:"4-\u7f16\u8f91\u5668\u63d2\u4ef6"},"4. \u7f16\u8f91\u5668\u63d2\u4ef6"),(0,r.kt)("p",null,"\u4e3a\u4e86\u63d0\u5347\u5927\u5bb6\u5bf9 zero-api \u6587\u4ef6\u7684\u7f16\u5199\u6548\u7387\uff0c\u6211\u4eec\u5206\u522b\u5bf9 intellij \u548c vscode \u63d0\u4f9b\u4e86\u76f8\u5e94\u7684\u7f16\u8f91\u5668\u63d2\u4ef6, intellij \u63d2\u4ef6\u4ecb\u7ecd\u53ca\u4f7f\u7528\u8bf7\u53c2\u8003 ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/zeromicro/goctl-intellij%EF%BC%8C"},"https://github.com/zeromicro/goctl-intellij\uff0c")," vscode \u63d2\u4ef6\u4ecb\u7ecd\u53ca\u4f7f\u7528\u8bf7\u53c2\u8003 ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/zeromicro/goctl-vscode/blob/main/README-cn.md"},"https://github.com/zeromicro/goctl-vscode/blob/main/README-cn.md")),(0,r.kt)("h1",{id:"\u4e09goctl-\u4f7f\u7528\u4e2d\u9047\u5230\u7684\u95ee\u9898"},"\u4e09\u3001goctl \u4f7f\u7528\u4e2d\u9047\u5230\u7684\u95ee\u9898"),(0,r.kt)("p",null,"goctl \u4ece\u6700\u521d\u7684\u4e00\u4e2a\u529f\u80fd rpc proxy \u5230\u5f53\u524d\u7248\u672c(v1.3.5) \u5df2\u7ecf\u62e5\u6709 13 \u4e2a\u4e00\u7ea7\u6307\u4ee4\u548c\u8fd1 30 \u4e2a\u4e8c\u7ea7\u6307\u4ee4, \u671f\u95f4 goctl \u505a\u4e86\u4e00\u4e9b\u8c03\u6574\uff0c\u800c\u4e14\uff0cgcotl \u672c\u8eab\u7684\u524d\u8fdb\u6b65\u4f10\u4e5f\u975e\u5e38\u5feb\uff0c\u4ed6\u66f4\u50cf\u662f\u5728\u6478\u7d22\u4e2d\u524d\u8fdb\uff0c\u671d\u7740\u66f4\u5feb\uff0c\u66f4\u597d\u7528\u7684\u65b9\u5411\u53d1\u5c55\uff0c\u56e0\u6b64\u5728\u8fed\u4ee3\u7684\u8def\u4e0a\uff0cgoctl \u4f1a\u663e\u5f97\u6709\u4e9b\u4e0d\u7a33\u5b9a\uff0c\u5927\u5bb6\u5174\u8bb8\u4e5f\u9047\u5230\u5f88\u591a\u95ee\u9898\uff0c\u8fd9\u91cc\u5927\u6982\u603b\u7ed3\u4e00\u4e0b\u5927\u5bb6\u5728\u793e\u533a\u4e2d\u53cd\u9988\u6bd4\u8f83\u591a\u7684\u4e00\u4e9b\u95ee\u9898\u6765\u5206\u4eab\u4e00\u4e0b\u3002"),(0,r.kt)("h2",{id:"1-386-\u67b6\u6784\u4e0a\u5b89\u88c5-goctl-\u5931\u8d25"},"1. 386 \u67b6\u6784\u4e0a\u5b89\u88c5 goctl \u5931\u8d25\uff01"),(0,r.kt)("p",null,"   \u63cf\u8ff0\uff1aantlr \u751f\u6210\u7684\u6e90\u7801\u4e2d\uff0c\u6ca1\u6709\u5bf9 386 \u67b6\u6784\u7684 uint \u7684\u8fb9\u754c\u503c\u8fdb\u884c\u5f88\u597d\u7684\u5904\u7406\uff0c\u5bfc\u81f4\u8fb9\u754c\u6ea2\u51fa\n\u4fee\u590d\u7248\u672c\uff1a",(0,r.kt)("a",{parentName:"p",href:"https://github.com/zeromicro/go-zero/releases/tag/tools%2Fgoctl%2Fv1.3.3"},"v1.3.3")),(0,r.kt)("h2",{id:"2-grpc-\u5230\u5e95\u5b89\u88c5\u4ec0\u4e48\u7248\u672c\u63d2\u4ef6"},"2. grpc \u5230\u5e95\u5b89\u88c5\u4ec0\u4e48\u7248\u672c\u63d2\u4ef6\uff1f"),(0,r.kt)("p",null,"\u63cf\u8ff0\uff1a\u719f\u6089 grpc \u7684\u4eba\u5e94\u8be5\u90fd\u77e5\u9053\uff0c\u751f\u6210 grpc \u4ee3\u7801\u7684\u63d2\u4ef6 protoc-gen-go \u6709\u4e24\u4e2a\u4ed3\u5e93\u5728\u7ef4\u62a4\uff0c\u6709 3 \u4e2a\u5b89\u88c5\u6765\u6e90\uff0c2 \u4e2a\u7ef4\u62a4\u4ed3\u5e93\u5206\u522b\u662f\uff1a"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"# 1. golang\n# github.com/golang/protobuf/protoc-gen-go\n# 2. protocolbuffers\n# github.com/protocolbuffers/protobuf-go/cmd/protoc-gen-go\n")),(0,r.kt)("p",null,"3 \u4e2a\u5b89\u88c5\u6765\u6e90\u662f"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"# 1. golang \u7ef4\u62a4\u7684\u4ed3\u5e93\uff0c\u76ee\u524d\u5df2\u4e0d\u63a8\u8350\u4f7f\u7528\n# github.com/golang/protobuf/protoc-gen-go\n# 2. protocolbuffers \u7ef4\u62a4\u7684\uff0c\u76ee\u524d\u63a8\u8350\u4f7f\u7528\u7684\n# github.com/protocolbuffers/protobuf-go/cmd/protoc-gen-go\n# 3. google \u5b89\u88c5\uff0c\u8fd9\u5176\u5b9e\u548c\u7b2c\u4e8c\u79cd\u5b89\u88c5\u7684\u662f\u4e00\u4e2a\u4e8c\u8fdb\u5236\uff0c\u4ed6\u7684\u6e90\u7801\u5c31\u662f protocolbuffers \u7ef4\u62a4\u7684\u76f8\u540c\u4ed3\u5e93\n# google.golang.org/protobuf/cmd/protoc-gen-go\n")),(0,r.kt)("p",null,"\u5728 v.1.3.4 \u524d\uff0c\u5982\u679c\u4f7f\u7528 goctl rpc proto \u751f\u6210 zrpc \u4ee3\u7801\u5219\u5efa\u8bae\u5b89\u88c5\u65e7\u7248\u672c\u7684\u63d2\u4ef6,\u5373 golang \u7ef4\u62a4\u7684\uff0c\u56e0\u6b64\u8be5\u6307\u4ee4\u751f\u6210 zrpc \u4ee3\u7801\u662f goctl \u4e3a\u4e86\u7528\u6237\u751f\u6210\u6307\u4ee4\u7684\u7b80\u5355\uff0c\u505a\u4e86\u5f88\u539a\u7684\u5c01\u88c5\uff0c\u4f46\u968f\u4e4b\u5e26\u6765\u7684\u95ee\u9898\u5c31\u662f\u96be\u517c\u5bb9\uff0c\u56e0\u6b64\u8be5\u6307\u4ee4\u5df2\u4e0d\u63a8\u8350\u4f7f\u7528\u3002"),(0,r.kt)("p",null,"\u5728 v.1.3.4 \u53ca\u4ee5\u540e\uff0c\u6ca1\u6709\u5bf9 protoc-gen-go \u505a\u9650\u5236\uff0c\u7528\u6237\u53ef\u4ee5\u81ea\u7531\u9009\u62e9\u4e0d\u540c\u7684\u6765\u6e90\u8fdb\u884c\u5b89\u88c5\uff0c\u4f46\u5efa\u8bae\u8fd8\u662f\u5b89\u88c5 protocolbuffer \u7ef4\u62a4\u7684\u7248\u672c\uff08\u5b98\u65b9\u6587\u6863\u5df2\u7ecf\u66ff\u6362\u4e3a\u8fd9\u4e2a\uff09\uff0c\u800c\u4e14\u5fc5\u987b\u8981\u5b89\u88c5 protoc-gen-grpc-go \u63d2\u4ef6\uff0c\u8fd9\u6837\u505a\u7684\u76ee\u7684\u662f\u8ddf\u7740 grpc \u5b98\u65b9\u8d70\uff0c\u4e0d\u8fc7\u7528\u6237\u4e0d\u7528\u6709\u592a\u5927\u7684\u5fc3\u7406\u8d1f\u62c5\uff0c\u4e00\u4e0b\u5b89\u88c5\u8fd9\u4e48\u591a\u4f9d\u8d56\uff0c\u5f88\u9ebb\u70e6\uff0cgoctl \u90fd\u5df2\u7ecf\u5e2e\u4f60\u5b9e\u73b0\u4e86\uff0c\u4f60\u53ea\u8981\u4f7f\u7528 goctl rpc protoc \u751f\u6210\u4ee3\u7801\u65f6\u4f1a\u81ea\u52a8\u68c0\u6d4b\u4f9d\u8d56\u5e76\u5b89\u88c5\u3002"),(0,r.kt)("p",null,"\u7efc\u4e0a\u6240\u8ff0\uff0c\u5efa\u8bae\u5927\u5bb6\u8fd8\u5728\u4f7f\u7528\u8be5\u6307\u4ee4\u7684\u7528\u6237\u5c3d\u65e9\u7528 goctl rpc protoc \u66ff\u4ee3\u3002"),(0,r.kt)("h2",{id:"3-\u4e3a\u4ec0\u4e48-windows-\u4e0a\u751f\u6210-apizrpc-\u4ee3\u7801\u65f6\u603b\u662f\u63d0\u793a-the-system-cannot-find-the-path-specified-\u7c7b\u4f3c\u9519\u8bef"},"3. \u4e3a\u4ec0\u4e48 Windows \u4e0a\u751f\u6210 api/zrpc \u4ee3\u7801\u65f6\uff0c\u603b\u662f\u63d0\u793a ",(0,r.kt)("inlineCode",{parentName:"h2"},"The system cannot find the path specified")," \u7c7b\u4f3c\u9519\u8bef\uff1f"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-text"},"goctl.exe api go -api test.api -dir .\nStat : The system cannot find the path specified.\n")),(0,r.kt)("p",null,"\u63cf\u8ff0\uff1a\u4ea7\u751f\u8be5\u539f\u56e0\u662f\u56e0\u4e3a ",(0,r.kt)("inlineCode",{parentName:"p"},"go list -json -m")," \u83b7\u53d6 go module \u65f6\u62ff\u5230\u7684\u662f\u4e00\u4e2a\u56fa\u5b9a\u503c command-line-arguments\uff0c\u8be5\u95ee\u9898\u5df2\u7ecf\u5728 ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/zeromicro/go-zero/pull/1897"},"https://github.com/zeromicro/go-zero/pull/1897")," \u8fdb\u884c\u4fee\u590d\uff0c\u7248\u672c\u5c06\u5728 ",(0,r.kt)("inlineCode",{parentName:"p"},"v1.3.6")," \u751f\u6548\u3002"),(0,r.kt)("h2",{id:"4-no-help-topic-proto"},"4. No help topic 'proto'"),(0,r.kt)("p",null,"\u63cf\u8ff0\uff1a\u8be5\u6307\u4ee4\u5728 ",(0,r.kt)("inlineCode",{parentName:"p"},"v1.3.4")," \u5df2\u7ecf\u79fb\u9664\uff0c\u7528 ",(0,r.kt)("inlineCode",{parentName:"p"},"goctl rpc protoc")," \u66ff\u4ee3"),(0,r.kt)("h2",{id:"5-zrpc-\u751f\u6210\u4ee3\u7801\u65f6\u62a5-go_package-\u9519\u8bef"},"5. zrpc \u751f\u6210\u4ee3\u7801\u65f6\u62a5 go_package \u9519\u8bef"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'protoc-gen-go: unable to determine Go import path for "greet.proto"\n\nPlease specify either:\n\u2022 a "go_package" option in the .proto source file, or\n\u2022 a "M" argument on the command line.\n\nSee https://developers.google.com/protocol-buffers/docs/reference/go-generated#package for more information.\n\n--go_out: protoc-gen-go: Plugin failed with status code 1.\n')),(0,r.kt)("h2",{id:"6-zrpc-\u751f\u6210\u4ee3\u7801\u65f6\u6307\u5b9a\u4e86-pb-\u7684\u8f93\u51fa\u76ee\u5f55\u4e3a\u5f53\u524d\u670d\u52a1-main-\u76ee\u5f55"},"6. zrpc \u751f\u6210\u4ee3\u7801\u65f6\u6307\u5b9a\u4e86 pb \u7684\u8f93\u51fa\u76ee\u5f55\u4e3a\u5f53\u524d\u670d\u52a1 main \u76ee\u5f55"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"the output of pb.go and _grpc.pb.go must not be the same with --zrpc_out:\npb output: /Users/keson/workspace/awesome-goctl/zwesome-zrpc/pb_in_main\nzrpc out: /Users/keson/workspace/awesome-goctl/zwesome-zrpc/pb_in_main\n")),(0,r.kt)("h2",{id:"7-\u4e3a\u4ec0\u4e48\u6211\u7684\u4ee3\u7801\u751f\u6210\u7684-pb-client\u4e0d\u5e26-client-\u6807\u5fd7"},"7. \u4e3a\u4ec0\u4e48\u6211\u7684\u4ee3\u7801\u751f\u6210\u7684 pb client\uff08\u4e0d\uff09\u5e26 client \u6807\u5fd7\uff1f"),(0,r.kt)("p",null,"\u8fd9\u662f\u65e7\u7248\u672c ",(0,r.kt)("inlineCode",{parentName:"p"},"goctl rpc proto")," \u751f\u6210 zrpc \u4ee3\u7801\u65f6\u624d\u6709\u8fd9\u4e2a\u95ee\u9898\uff0c\u76ee\u524d\u5df2\u7ecf\u79fb\u9664\u4e86\u8be5\u6307\u4ee4\u3002"),(0,r.kt)("h2",{id:"8-\u4e3a\u4ec0\u4e48\u6211\u751f\u6210\u7684\u76ee\u5f55\u7ed3\u6784\u548c\u6587\u6863\u6f14\u793a\u4e0d\u4e00\u6837"},"8. \u4e3a\u4ec0\u4e48\u6211\u751f\u6210\u7684\u76ee\u5f55\u7ed3\u6784\u548c\u6587\u6863\u6f14\u793a\u4e0d\u4e00\u6837\uff1f"),(0,r.kt)("p",null,"\u5bf9\u4e8e ",(0,r.kt)("inlineCode",{parentName:"p"},"goctl rpc protoc")," \u751f\u6210 zrpc \u4ee3\u7801\u7684\u76ee\u5f55\u7ed3\u6784\uff0c\u603b\u7684\u7ed3\u6784\u4e0a\u662f\u4e0d\u4f1a\u5b58\u5728\u5dee\u5f02\u7684\uff0c\u552f\u4e00\u5b58\u5728\u5dee\u5f02\u7684\u662f pb \u7684\u8f93\u51fa\u76ee\u5f55\uff0c\u8fd9\u4e2a\u53d6\u51b3\u4e8e\u4f60\u6307\u5b9a\u7684\u53c2\u6570\u6765\u63a7\u5236\uff0c\u63a7\u5236 pb \u8f93\u51fa\u76ee\u5f55\u7684\u56e0\u7d20\u6709 ",(0,r.kt)("inlineCode",{parentName:"p"},"go_opt"),"\u3001",(0,r.kt)("inlineCode",{parentName:"p"},"go-grpc_opt"),"\u3001",(0,r.kt)("inlineCode",{parentName:"p"},"go_package")," \uff0c\u8be6\u60c5\u53ef\u53c2\u8003 \u300a",(0,r.kt)("a",{parentName:"p",href:"https://developers.google.com/protocol-buffers/docs/reference/go-generated"},"Protocol Buffers: Go Generated Code"),"\u300b\u3002"),(0,r.kt)("h2",{id:"9-\u4e3a\u4ec0\u4e48\u6211\u5b89\u88c5\u4e86-goctl-\u7f16\u8f91\u5668\u63d2\u4ef6\u8fd8\u662f\u4e0d\u80fd\u9ad8\u4eae"},"9. \u4e3a\u4ec0\u4e48\u6211\u5b89\u88c5\u4e86 goctl \u7f16\u8f91\u5668\u63d2\u4ef6\u8fd8\u662f\u4e0d\u80fd\u9ad8\u4eae"),(0,r.kt)("p",null,"\u6253\u5f00 Goland \u7684\u8bbe\u7f6e\uff0c\u641c\u7d22 FileTypes \u8bbe\u7f6e api \u6587\u4ef6\u540e\u7f00\u5373\u53ef\u3002"),(0,r.kt)("h1",{id:"\u6269\u5c55\u9605\u8bfb"},"\u6269\u5c55\u9605\u8bfb"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("a",{parentName:"li",href:"https://cobra.dev/"},"Cobra: A Framework for Modern CLI Apps in Go"))))}s.isMDXComponent=!0},7760:function(e,t,n){t.Z=n.p+"assets/images/goctl-history-6b530a25fd4f4227aad1dc55f218c7b7.svg"}}]);